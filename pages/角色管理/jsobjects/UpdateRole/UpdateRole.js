export default {
updateRole: async () => {
        // =========================================================
        // 1. 非空校验 (Validation)
        // =========================================================
        
        // 我们只允许改名称和描述，所以只检查名称
        // (代号是禁用的，肯定有值，且用户改不了)
        if (!Input_NameUpdate.text.trim()) {
            showAlert('角色名称不能为空！', 'warning');
            return; // ⛔️ 没填好就打断
        }

        // =========================================================
        // 2. 执行更新 (Execution)
        // =========================================================
        try {
            await Update_Role.run(); // 运行 UPDATE SQL

            showAlert('角色修改成功！', 'success');
            closeModal('Modal_Update');   // 关闭编辑弹窗
            await Get_All_Roles.run();      // 刷新列表
            
            // 编辑弹窗通常不需要 resetWidget，因为下次打开会自动读取 selectedRow 的新数据

        } catch (error) {
            // =====================================================
            // 3. 错误处理
            // =====================================================
            showAlert('修改失败：' + error.message, 'error');
        }
    }
}